<html><head>
	<title>guh gaming beta</title>
	<meta charset="utf-8">
<meta http-equiv="Accept-CH" content="Sec-CH-UA-Platform-Version, Sec-CH-UA-Model" /><link rel="shortcut icon" type="image/x-icon" href="https://images.squarespace-cdn.com/content/v1/56902b830e4c1197d2391a9d/1452838595664-GTAT4R6JOPYX69WMWLIN/favicon.ico?format=100w"/>
<link rel="canonical" href="http://www.guhcdn.github.io"/>
<meta property="og:site_name" content="Guh gaming"/>
<meta property="og:title" content="Guh gaming"/>
<meta property="og:url" content="http://www.guhcdn.github.io"/>
<meta property="og:type" content="website"/>
<meta property="og:description" content="Guh gaming is all about fun and bringing entertainment to the world. Love, happiness, energy, and excitement! That's Guh gaming!"/>
<meta property="og:image" content="http://static1.squarespace.com/static/56902b830e4c1197d2391a9d/t/599c4e83914e6b4f5ee35360/1503415939834/13501973_1110024582392053_6607311642488242329_n.jpg?format=1500w"/>
<meta property="og:image:width" content="960"/>
<meta property="og:image:height" content="960"/>
<meta itemprop="name" content="Guh gaming"/>
<meta itemprop="url" content="http://www.guhcdn.github.io"/>
<meta itemprop="description" content="Guh gaming is all about fun and bringing entertainment to the world. Love, happiness, energy, and excitement! That's Guh gaming!"/>
<meta itemprop="thumbnailUrl" content="http://static1.squarespace.com/static/56902b830e4c1197d2391a9d/t/599c4e83914e6b4f5ee35360/1503415939834/13501973_1110024582392053_6607311642488242329_n.jpg?format=1500w"/>
<link rel="image_src" href="http://static1.squarespace.com/static/56902b830e4c1197d2391a9d/t/599c4e83914e6b4f5ee35360/1503415939834/13501973_1110024582392053_6607311642488242329_n.jpg?format=1500w" />
<meta itemprop="image" content="http://static1.squarespace.com/static/56902b830e4c1197d2391a9d/t/599c4e83914e6b4f5ee35360/1503415939834/13501973_1110024582392053_6607311642488242329_n.jpg?format=1500w"/>
<meta name="twitter:title" content="Guh gaming"/>
<meta name="twitter:image" content="http://static1.squarespace.com/static/56902b830e4c1197d2391a9d/t/599c4e83914e6b4f5ee35360/1503415939834/13501973_1110024582392053_6607311642488242329_n.jpg?format=1500w"/>
<meta name="twitter:url" content="http://www.guhcdn.github.io"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:description" content="Guh gaming is all about fun and bringing entertainment to the world. Love, happiness, energy, and excitement! That's Guh gaming!"/>
<meta name="description" content="Guh gaming is all about fun and bringing entertainment to the world. Love, 
happiness, energy, and excitement! That's Guh gaming!" />
	<div class="box2d">down for now</div>
 <script type="text/javascript">
        var restart;
        function startUp() {
          Box2D().then(function(Box2D) {
            var s = window.location.search.substr(1);
            var NUM = s.length > 1 ? +s : 200;

            var NUMRANGE = [];
            while (NUMRANGE.length < NUM) NUMRANGE.push(NUMRANGE.length+1);
            var bodies = [null]; // Indexes start from 1

            // Box2D-interfacing code

            var gravity = new Box2D.b2Vec2(0.0, -10.0);

            var world = new Box2D.b2World(gravity);

            var bd_ground = new Box2D.b2BodyDef();
            var ground = world.CreateBody(bd_ground);

            var shape0 = new Box2D.b2EdgeShape();
            shape0.Set(new Box2D.b2Vec2(-40.0, -6.0), new Box2D.b2Vec2(40.0, -6.0));
            ground.CreateFixture(shape0, 0.0);

            var size = 1.0;
            var shape = new Box2D.b2PolygonShape();
            shape.SetAsBox(size, size);

            var ZERO = new Box2D.b2Vec2(0.0, 0.0);
            var temp = new Box2D.b2Vec2(0.0, 0.0);

            NUMRANGE.forEach(function(i) {
              var bd = new Box2D.b2BodyDef();
              bd.set_type(Box2D.b2_dynamicBody);
              bd.set_position(ZERO);
              var body = world.CreateBody(bd);
              body.CreateFixture(shape, 5.0);

              bodies.push(body);
            });

            function resetPositions() {
              NUMRANGE.forEach(function(i) {
                var body = bodies[i];
                temp.Set(25*(Math.random()-0.5), 2.0 + 1.5*i);
                body.SetTransform(temp, 0.0);
                body.SetLinearVelocity(ZERO);
                body.SetAwake(1);
                body.SetActive(1);
              });
            }

            resetPositions();

            function readObject(i, data) {
              var body = bodies[i];
              var bpos = body.GetPosition();
              data.x = bpos.get_x();
              data.y = bpos.get_y();
              data.angle = body.GetAngle();
            }

            var lastInactivity = Date.now();
            function someInactive() {
              var asleep = 0;
              for (var i = 0; i < NUM; i++) {
                if (!bodies[i+1].IsAwake()) {
                  asleep++;
                  if (asleep == 3) return true;
                }
              }
              return false;
            }

            // Main demo code

            var totalTime = 0;

            var boxes = [];

            var position = [0,0,0];

var LAST = 0;
            function simulate(dt) {
              world.Step(dt, 2, 2);

              var data = { x: 0, y: 0, angle: 0 };

              // Read box2d data into JS objects
              for (var i = 0; i < NUM; i++) {
                readObject(i+1, data);
                var renderObject = boxes[i];
                renderObject.position[0] = data.x;
                renderObject.position[1] = data.y;
                renderObject.position[2] = 0;
                renderObject.rotation = [0, 0, data.angle*180/Math.PI];
              }

              totalTime += dt;

              if (someInactive() || totalTime >= 30) restart();
            }

            var fpsInfo = {
              dts: 0,
              num: 0,
              lastHUD: Date.now(),
              allNum: 0,
              all: 0,
            };

            var outElement = null;
            function showFPS(dt) {
              if (!outElement) outElement = document.getElementById('out');
              var now = Date.now();
              fpsInfo.dts += dt;
              fpsInfo.num++;
              if (now - fpsInfo.lastHUD > 500) {
                var curr = 1/(fpsInfo.dts/fpsInfo.num);
                fpsInfo.allNum++;
                var alpha = Math.min(1, 2/fpsInfo.allNum);
                fpsInfo.all = alpha*curr + (1-alpha)*fpsInfo.all;
                outElement.value = Math.round(curr) + ' / ' + Math.round(fpsInfo.all);
                fpsInfo.lastHUD = now;
                fpsInfo.dts = 0;
                fpsInfo.num = 0;
              }
            }

            restart = function() {
              totalTime = 0;
              resetPositions();
            }

            var FLOOR_SIZE = 100;
            var FLOOR_HEIGHT = -56

            // CubicVR code

            document.getElementById('info').innerHTML = '<b>Boxes: ' + NUM + '</b>';

            var canvas = document.getElementById("canvas");
            canvas.width = screen.width*0.70;
            canvas.height = screen.height*0.55;

            var gl = CubicVR.GLCore.init(canvas);

            if (!gl) {
              alert("Sorry, no WebGL support :(");
              return;
            };

            var scene = new CubicVR.Scene(canvas.width, canvas.height, 70);

            var light = new CubicVR.Light({
              type:CubicVR.enums.light.type.POINT,
              position: [0, 0, 5],
              intensity: 0.9,
              areaCeiling: 80,
              areaFloor: FLOOR_HEIGHT,
              areaAxis: [15, 10],
              distance: 60,
              mapRes: 1024
            });
            scene.bindLight(light);

            scene.camera.position = [0, 2.4, 17];
            scene.camera.target = [0, 2.4, 0];

            var boxMeshes = [];
            for (var i = 0; i < 5; i++) {
              boxMeshes[i] = new CubicVR.primitives.box({
                size: 2.0,
                material: new CubicVR.Material({
                  textures: {
                    color: new CubicVR.Texture("cube" + ((i % 5)+1) + ".jpg")
                  }
                }),
                uvmapper: {
                  projectionMode: CubicVR.enums.uv.projection.CUBIC,
                  scale: [2, 2, 2]
                }
              }).calcNormals().triangulateQuads().compile().clean();
            }

            for (var i = 0; i < NUM; i++) {
              boxes[i] = new CubicVR.SceneObject({ mesh: boxMeshes[i%5], position: [0, -10000, 0] });
              scene.bindSceneObject(boxes[i], true);
            }

            var floorMaterial = new CubicVR.Material({
              textures: {
                color: new CubicVR.Texture("cube3.jpg")
              }
            });
            var floorMesh = new  CubicVR.primitives.box({
              size: FLOOR_SIZE,
              material: floorMaterial,
              uvmapper: {
                  projectionMode: CubicVR.enums.uv.projection.CUBIC,
                  scale: [4, 4, 4]
              }
            }).calcNormals().triangulateQuads().compile().clean();

            var floor_ = new CubicVR.SceneObject({ mesh: floorMesh, position: [0, FLOOR_HEIGHT, 0] });
            scene.bindSceneObject(floor_, true);

            //var mvc = new CubicVR.MouseViewController(canvas, scene.camera);

            CubicVR.MainLoop(function(timer, gl) {
              var dt = timer.getLastUpdateSeconds();
              simulate(dt);
              scene.updateShadows();
              scene.render();
              showFPS(dt);
            });
          });
        }
      </script>
